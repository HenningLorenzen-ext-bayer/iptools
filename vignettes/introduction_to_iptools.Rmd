---
title: "Introduction to iptools"
author: "Oliver Keyes"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

## IP handling, conversion and validation
`iptools` is a package to make IP addresses convenient to deal with, parse and validate. It is heavily influenced by the Python [iptools](https://python-iptools.readthedocs.org/en/latest/) module, and will hopefully make users' lives a heck of a lot easier
if they have to deal with IP data. Much of it is currently IPv4-specific, out of necessity, but as R's support for bigger numbers
increases, we'll hopefully make as much of it support IPv6 as possible!

### Validating, converting and classifying IP addresses

How do you know an IP address is an IP address? How do you know what *type* of IP address it is? Most of the time the answer is
a complicated regular expression, made more complicated by the need to check for things that are syntactically valid IP addresses,
but aren't actually possible. `iptools` contains `ip_classify`, which accepts a vector of IP addresses (or things that might be
IP addresses) and identifies whether they're valid - and if they are valid, what type they are.

```{r eval=FALSE}
ips <- c("192.168.0.1","2607:f8b0:4006:80b::aaa","the next IP is also invalid","256.256.190.900")
ip_classify(ips)
[1] "IPv4"    "IPv6"    "Invalid" "Invalid"
```

Once you've validated and classified the IPs, you might want to look at them in their numeric form, rather than the
"dotted-decimal" form - or you might have numeric forms, and need dotted-decimal. Either way, there's a function for it.

```{r eval=FALSE}
#Dotted-decimal to numeric
ips <- c("192.168.0.1","172.18.0.0","172.18.0.15")
numeric_ips <- ip_to_numeric(ips)
numeric_ips
[1] 3232235521 2886860800 2886860815

#And back again
numeric_to_ip(numeric_ips)
[1] "192.168.0.1" "172.18.0.0"  "172.18.0.15"
```

These functions only currently work for IPv4 IPs - we'll have IPv6 support as soon as R can support numbers that big!

### Resolving hostnames

### Handling IP ranges

Note the various macros within the `vignette` setion of the metadata block above. These are required in order to instruct R how to build the vignette. Note that you should change the `title` field and the `\VignetteIndexEntry` to match the title of your vignette.

### Generating elements